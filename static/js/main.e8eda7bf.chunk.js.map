{"version":3,"sources":["services/account.js","images/logo.png","services/axios.js","constants/constants.js","pages/forbidden/Frobidden.jsx","services/vehicles.js","pages/Vehicles/components/ImageUploadForm.jsx","pages/Vehicles/components/VehiclesForm.jsx","services/clients.js","pages/Clients/ClientsForm.jsx","components/formInput/FormInput.jsx","components/changePassword/ChangePassword.jsx","components/navbarTop/navbarTop.jsx","components/sider/SideBar.jsx","components/layout/AuthLayout.jsx","components/layout/BasicLayout.jsx","services/reservations.js","pages/home/client/ClientHome.jsx","components/layout/ClientLayout.jsx","privateRoute/PrivateRoute.jsx","pages/Clients/Clients.jsx","pages/Vehicles/components/ShowVehicle.jsx","pages/Vehicles/Vehicles.jsx","pages/Reservations/components/ShowReservation.jsx","pages/Reservations/Reservations.jsx","pages/Reservations/components/CreateForm.jsx","pages/Reservations/components/CreateModal.jsx","pages/Reservations/CreateReservations.jsx","App.js","reportWebVitals.js","i18next.js","index.js","functions/helper.js"],"names":["Login","data","axios","method","baseURL","url","me","token","axiosInstance","post","headers","Authorization","localStorage","getItem","changePassword","create","ROLES","CLIENT","EMPLOYEE","ANY","RESERVATION_STATUS","ALL","PREVIOUS","PRESENT","FUTURE","CAR_TYPES","label","value","Forbidden","history","useHistory","status","title","extra","onClick","push","getAllVehicles","queryKey","pageParam","get","getVehicleType","addVehicle","formData","FormData","Object","keys","forEach","prop","photosData","photoIndex","append","getAvailableVehicles","a","page","search","params","res","items","current_page","last_page","ImageUpload","useFormContext","register","errors","formState","style","padding","required","type","accept","multiple","name","render","err","color","marginLeft","message","layout","labelCol","span","wrapperCol","Step","Steps","VehiclesForm","vehicleId","React","useState","current","setCurrent","queryClient","useQueryClient","carTypes","useQuery","methods","useForm","defaultValues","photos","plate_no","production_year","no_of_seats","car_type_id","price_per_day","remarks","reset","setValue","handleSubmit","control","setErrors","updateMutation","useMutation","id","updateVehicle","onSuccess","success","refetchQueries","onError","error","response","onSubmit","then","r","Swal","fire","catch","mutateAsync","onDelete","delete","steps","content","Item","htmlFor","rules","minLength","field","min","max","options","map","car","car_id","display","htmlType","action","item","className","length","margin","float","memo","getAllClients","getClientsOptions","loadedOptions","dataToOptions","hasMore","additional","getAllCountries","updateClient","clientData","email","phone_no","identification_document_no","String","country_id","user","createClient","initialData","schema","yup","shape","ClientsForm","ClientId","onSuccessCallback","errorsBack","loading","setLoading","resolver","yupResolver","formDisabled","onFinish","disabled","defaultValue","country","FormInput","icon","tooltip","input_params","helper_params","validateStatus","help","prefix","suffix","InfoCircleOutlined","option","index","Option","onChange","e","shouldValidate","shouldDirty","shouldTouch","TextArea","Password","password_roules","matches","old_password","new_password","confirm_password","oneOf","ChangePassword","openModal","setOpenModal","isLoading","setIsLoading","mode","reValidateMode","password","remember","handleCancel","useEffect","footer","form","SaveOutlined","visible","onCancel","placeholder","NavbarTop","isModalVisible","setIsModalVisible","setContent","userName","setUserName","showModal","authObj","accName","JSON","parse","menu","auth","role","border","uuid","to","clear","height","width","src","logo","fontSize","UserOutlined","align","overlay","onOk","Sider","Layout","SideBar","setCollapsed","minHeight","breakpoint","collapsedWidth","collapsible","onCollapse","collapsed","theme","TeamOutlined","CarOutlined","DesktopOutlined","Header","Footer","Content","AuthLayout","children","textAlign","BasicLayout","getAllReservations","getReservations","Home","equip","setEquip","showData","setShowData","useInfiniteQuery","getNextPageParam","fetchNextPage","hasNextPage","isFetchingNextPage","useBottomScrollListener","marginTop","justifyContent","flexWrap","avatar","active","concatDataTwo","val","getReservationStatus","from_date","to_date","Date","now","hoverable","vehicle","equipment","rent_location","return_location","tip","backgroundColor","total_price","client","car_type","max_quantity","ClientLayout","ClientHome","PrivateRoute","Component","component","isPrivate","path","rest","Clients","setSearch","lastPage","currentPageNo","undefined","tableData","pages","closeModal","pageParams","document","querySelector","addEventListener","event","maxScroll","target","scrollHeight","clientHeight","scrollTop","columns","dataIndex","key","record","size","stopPropagation","destroyOnClose","Search","allowClear","onSearch","onRow","rowIndex","rowKey","scroll","y","x","dataSource","pagination","ShowVehicle","plates","prodYear","seats","carType","pricePerDay","console","log","photo","Vehicles","ShowReservation","reservationId","rentLocation","returnLocation","totalPrice","plateNo","noSeats","pd","Reservations","deleteReservation","CreateForm","getValues","locationOptions","setLocationOptions","setEquipment","onValuesChange","loadOptions","days","diff","Group","gutter","i","step","readOnly","formatter","parser","replace","CreateModal","open","calcDays","moment","start_date","end_date","vehicle_id","getEquipmentData","format","createReservation","invalidateQueries","rent_location_id","integer","return_location_id","client_id","CreateReservation","date_from","date_to","filter","setFilter","setParams","enabled","Boolean","isError","isFetching","RangePicker","_d","stringify","FilterOutlined","onFetch","bordered","window","innerHeight","lazy","QueryClient","App","QueryClientProvider","exact","fallback","CreateReservations","initialIsOpen","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","i18n","use","LanguageDetector","initReactI18next","init","fallbackLng","debug","whitelist","interpolation","escapeValue","ReactDOM","StrictMode","getElementById","getValidDate","d","fromDate","toDate","givenDate","validateDateBetweenTwoDates","saveAuth","setItem","arrData","concat","apply","newData","startsWith","equipment_id","substring","quantity"],"mappings":"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","file":"static/js/main.e8eda7bf.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport axiosInstance from './axios';\r\n\r\nexport const Login = data => {\r\n  return axios({\r\n    method: 'POST',\r\n    baseURL: 'http://akademija-api.proserver.me/api/',\r\n    url: '/auth/login',\r\n    data: data,\r\n  });\r\n};\r\n\r\nexport const me = token => {\r\n  return axiosInstance.post(\r\n    '/auth/me',\r\n    {},\r\n    {\r\n      headers: {Authorization: `Bearer ${localStorage.getItem('jwt-token')}`},\r\n    },\r\n  );\r\n};\r\n\r\nexport const logout = () => {\r\n  return axiosInstance.post(\r\n    '/auth/logout',\r\n    {},\r\n    {\r\n      headers: {Authorization: `Bearer ${localStorage.getItem('jwt-token')}`},\r\n    },\r\n  );\r\n};\r\n\r\nexport const changePassword = data => {\r\n  return axiosInstance.post('/auth/change-password', data, {\r\n    headers: {Authorization: `Bearer ${localStorage.getItem('jwt-token')}`},\r\n  });\r\n};\r\n\r\nexport const refresh = () => {\r\n  return axiosInstance.post(\r\n    '/auth/refresh',\r\n    {},\r\n    {\r\n      headers: {Authorization: `Bearer ${localStorage.getItem('jwt-token')}`},\r\n    },\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/logo.02ad0084.png\";","import axios from 'axios';\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: 'https://akademija-api.proserver.me/api/',\r\n});\r\n\r\nexport default axiosInstance;\r\n","export const ROLES = {\r\n  CLIENT: 'Client',\r\n  EMPLOYEE: 'Employee',\r\n  ANY: 'Any',\r\n};\r\n\r\nexport const RESERVATION_STATUS = {\r\n  ALL:0,\r\n  PREVIOUS: 1,\r\n  PRESENT: 2,\r\n  FUTURE: 3,\r\n};\r\n\r\nexport const CAR_TYPES = [\r\n  {\r\n    label: 'Small',\r\n    value: 1,\r\n  },\r\n  {\r\n    label: 'Medium',\r\n    value: 2,\r\n  },\r\n  {\r\n    label: 'Premium',\r\n    value: 3,\r\n  },\r\n];\r\n","import React from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {Result, Button} from 'antd';\r\n\r\nconst Forbidden = () => {\r\n  const history = useHistory();\r\n  return (\r\n    <Result\r\n      status=\"warning\"\r\n      title=\"This page is forbidden! Please log in\"\r\n      extra={<Button onClick={() => history.push('/')}>Log in</Button>}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Forbidden;\r\n","import axiosInstance from './axios';\r\n\r\nexport const getAllVehicles = ({queryKey, pageParam = 1}) => {\r\n  let url = 'vehicles?page=' + pageParam;\r\n  if (queryKey[1]) {\r\n    url += `&search=${queryKey[1]}`;\r\n  }\r\n  return axiosInstance.get(url, {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('jwt-token')}`,\r\n    },\r\n  });\r\n};\r\n\r\nexport const deleteVehicle = id => {\r\n  return axiosInstance.delete(`vehicle-delete/${id}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('jwt-token')}`,\r\n    },\r\n  });\r\n};\r\n\r\nexport const getVehicleType = () => {\r\n  return axiosInstance.get(`car-types`, {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('jwt-token')}`,\r\n    },\r\n  });\r\n};\r\n\r\nexport const addVehicle = data => {\r\n  const formData = new FormData();\r\n  Object.keys(data).forEach(prop => {\r\n    if (prop === 'photo') {\r\n      const photosData = data[prop];\r\n\r\n      Object.keys(photosData).forEach(photoIndex => {\r\n        formData.append('photo[]', photosData[photoIndex]);\r\n      });\r\n    } else {\r\n      formData.append(prop, data[prop]);\r\n    }\r\n  });\r\n  return axiosInstance.post(`vehicle`, formData, {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('jwt-token')}`,\r\n      'Content-Type': 'multipart/form-data',\r\n    },\r\n  });\r\n};\r\n\r\nexport const updateVehicle = (data, id) => {\r\n  const formData = new FormData();\r\n\r\n  Object.keys(data).forEach(prop => {\r\n    if (prop === 'photo') {\r\n      const photosData = data[prop];\r\n\r\n      Object.keys(photosData).forEach(photoIndex => {\r\n        formData.append('photo[]', photosData[photoIndex]);\r\n      });\r\n    } else {\r\n      formData.append(prop, data[prop]);\r\n    }\r\n  });\r\n\r\n  return axiosInstance.post(`vehicle-update/${id}`, formData, {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('jwt-token')}`,\r\n      'Content-Type': 'multipart/form-data',\r\n    },\r\n  });\r\n};\r\n\r\nexport const getEquipment = () => {\r\n  return axiosInstance.post(`equipment`, {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('jwt-token')}`,\r\n    },\r\n  });\r\n};\r\nexport async function getAvailableVehicles(queryKey) {\r\n  const page = queryKey?.pageParam || 1;\r\n  const search = queryKey?.queryKey[1];\r\n  const res = await axiosInstance.get('/cars-available', {\r\n    params: {...search, page: page},\r\n    headers: {Authorization: `Bearer ${localStorage.getItem('jwt-token')}`},\r\n  });\r\n\r\n  return {\r\n    items: res?.data?.data,\r\n    page: res?.data?.current_page,\r\n    last_page: res?.data?.last_page,\r\n  };\r\n}\r\n","import React from 'react';\r\nimport {useFormContext} from 'react-hook-form';\r\nimport {ErrorMessage} from '@hookform/error-message';\r\n\r\nfunction ImageUpload() {\r\n  const {\r\n    register,\r\n    formState: {errors},\r\n  } = useFormContext();\r\n\r\n  return (\r\n    <form>\r\n      <input\r\n        style={{padding: '8px'}}\r\n        {...register('photo[]', {required: true})}\r\n        type=\"file\"\r\n        accept=\"image/\"\r\n        multiple\r\n      />\r\n      <ErrorMessage\r\n        errors={errors}\r\n        name=\"photo[]\"\r\n        render={err => {\r\n          return (\r\n            <p style={{color: 'red', marginLeft: '10px'}}>\r\n              Minimum one image {err.message}\r\n            </p>\r\n          );\r\n        }}\r\n      />\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default ImageUpload;\r\n","import React, {memo, useState} from 'react';\r\nimport {Form, Input, Button, message, Select, Steps} from 'antd';\r\nimport {useMutation, useQueryClient, useQuery} from 'react-query';\r\nimport {\r\n  addVehicle,\r\n  deleteVehicle,\r\n  getVehicleType,\r\n  updateVehicle,\r\n} from '../../../services/vehicles';\r\nimport {useForm, FormProvider, Controller} from 'react-hook-form';\r\nimport {useHistory} from 'react-router-dom';\r\nimport ImageUpload from './ImageUploadForm';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst layout = {\r\n  labelCol: {\r\n    span: 8,\r\n  },\r\n  wrapperCol: {\r\n    span: 16,\r\n  },\r\n};\r\n\r\nconst {Step} = Steps;\r\n\r\nconst VehiclesForm = ({title, vehicleId}) => {\r\n  const history = useHistory();\r\n  const [current, setCurrent] = React.useState(0);\r\n  const queryClient = useQueryClient();\r\n  const {data: carTypes} = useQuery('car-types', getVehicleType);\r\n  const next = () => {\r\n    setCurrent(current + 1);\r\n  };\r\n  const prev = () => {\r\n    setCurrent(current - 1);\r\n  };\r\n  const methods = useForm(\r\n    title === 'Edit'\r\n      ? {\r\n          defaultValues: {\r\n            photos: vehicleId.photos,\r\n            plate_no: vehicleId.plate_no,\r\n            production_year: vehicleId.production_year,\r\n            no_of_seats: vehicleId.no_of_seats,\r\n            car_type_id: vehicleId.car_type_id,\r\n            name: vehicleId.name,\r\n            price_per_day: vehicleId.price_per_day,\r\n            remarks: vehicleId.remarks,\r\n          },\r\n        }\r\n      : {},\r\n  );\r\n  const {\r\n    setValue,\r\n    reset,\r\n    handleSubmit,\r\n    control,\r\n    formState: {errors},\r\n  } = methods;\r\n  const [errorsBack, setErrors] = useState();\r\n\r\n  const updateMutation = useMutation(\r\n    ['updateMutation', vehicleId?.id],\r\n    data => updateVehicle(data, vehicleId?.id),\r\n    {\r\n      onSuccess: () => {\r\n        message.success('successMessages.updated');\r\n        queryClient.refetchQueries('vehicles');\r\n        history.push('vehicles');\r\n      },\r\n      onError: error => {\r\n        setErrors(error.response.data.message);\r\n      },\r\n    },\r\n  );\r\n\r\n  const onSubmit = async data => {\r\n    if (title === 'Add new vehicle') {\r\n      reset();\r\n      await addVehicle(data)\r\n        .then(r => {\r\n          Swal.fire('Good job!', 'You created the vehicle  !', 'success');\r\n          queryClient.refetchQueries('vehicles');\r\n          history.push('/vehicles');\r\n        })\r\n        .catch(err => {\r\n          setErrors(err.response.data.message);\r\n        });\r\n      queryClient.refetchQueries('vehicles');\r\n    } else if (title === 'Edit') {\r\n      await updateMutation.mutateAsync(data);\r\n      queryClient.refetchQueries('vehicles');\r\n\r\n      reset();\r\n    }\r\n  };\r\n\r\n  const onDelete = () => {\r\n    deleteVehicle(vehicleId).then(r => {});\r\n    history.push('/vehicles');\r\n  };\r\n  const steps = [\r\n    {\r\n      title: 'First',\r\n      content: (\r\n        <Form>\r\n          <Form.Item span={6} label=\"Plates\" htmlFor=\"plate_no\" required={true}>\r\n            <Controller\r\n              name=\"plate_no\"\r\n              control={control}\r\n              rules={{required: true, minLength: 7}}\r\n              render={({field}) => <Input {...field} />}\r\n            />\r\n            <p style={{color: 'red'}}>\r\n              {errors.plate_no?.type === 'required' && 'This field is required'}\r\n            </p>\r\n            <p style={{color: 'red'}}>\r\n              {errors.plate_no?.type === 'minLength' &&\r\n                'The minimum character is seven'}\r\n            </p>\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            span={6}\r\n            label=\"\tProduction Year\"\r\n            htmlFor=\"production_year\"\r\n            required={true}>\r\n            <Controller\r\n              name=\"production_year\"\r\n              control={control}\r\n              rules={{required: true, min: 1950, max: 2021}}\r\n              render={({field}) => <Input {...field} />}\r\n            />\r\n            <p style={{color: 'red'}}>\r\n              {errors.production_year?.type === 'required' &&\r\n                'This field is required'}\r\n            </p>\r\n            <p style={{color: 'red'}}>\r\n              {errors.production_year?.type === 'min' &&\r\n                'the minimum year is 1950'}\r\n            </p>\r\n            <p style={{color: 'red'}}>\r\n              {errors.production_year?.type === 'max' &&\r\n                'the maximum year is 2021'}\r\n            </p>\r\n          </Form.Item>\r\n\r\n          <Form.Item label=\"Vehicle Type\" required={true}>\r\n            <Controller\r\n              name=\"car_type_id\"\r\n              control={control}\r\n              rules={{required: true}}\r\n              render={({field}) => (\r\n                <Select\r\n                  options={\r\n                    carTypes?.data?.data.map(car => {\r\n                      return {label: car.name, value: car.id};\r\n                    }) || []\r\n                  }\r\n                  {...field}\r\n                />\r\n              )}\r\n            />\r\n            <p style={{color: 'red'}}>\r\n              {errors.car_id?.type === 'required' && 'Please select a country'}\r\n            </p>\r\n          </Form.Item>\r\n          <Form.Item\r\n            span={6}\r\n            label=\"Number of seats\"\r\n            htmlFor=\"no_of_seats\"\r\n            required={true}>\r\n            <Controller\r\n              name=\"no_of_seats\"\r\n              control={control}\r\n              rules={{required: true, max: 5, min: 2}}\r\n              render={({field}) => <Input type=\"number\" {...field} />}\r\n            />\r\n            <p style={{color: 'red'}}>\r\n              {errors.no_of_seats?.type === 'required' &&\r\n                'This field is required'}\r\n            </p>\r\n            <p style={{color: 'red'}}>\r\n              {errors.no_of_seats?.type === 'max' &&\r\n                'The maximum seats is five'}\r\n            </p>\r\n            <p style={{color: 'red'}}>\r\n              {errors.no_of_seats?.type === 'min' &&\r\n                'The minimal seats is five'}\r\n            </p>\r\n          </Form.Item>\r\n          <Form.Item\r\n            span={6}\r\n            label=\"Price/Day\"\r\n            htmlFor=\"price_per_day\"\r\n            required={true}>\r\n            <Controller\r\n              name=\"price_per_day\"\r\n              control={control}\r\n              rules={{required: true, max: 500, min: 40}}\r\n              render={({field}) => <Input {...field} />}\r\n            />\r\n            <p style={{color: 'red'}}>\r\n              {errors.price_per_day?.type === 'required' &&\r\n                'This field is required'}\r\n            </p>\r\n            <p style={{color: 'red'}}>\r\n              {errors.price_per_day?.type === 'max' &&\r\n                'Maximum price per day is 500€'}\r\n            </p>\r\n            <p style={{color: 'red'}}>\r\n              {errors.price_per_day?.type === 'min' &&\r\n                'Minimum price per day is 40€'}\r\n            </p>\r\n          </Form.Item>\r\n          <Form.Item\r\n            span={6}\r\n            label=\"Additional Remarks\"\r\n            htmlFor=\"remarks\"\r\n            required={true}>\r\n            <Controller\r\n              name=\"remarks\"\r\n              control={control}\r\n              rules={{required: true}}\r\n              render={({field}) => <Input {...field} />}\r\n            />\r\n            <p style={{color: 'red'}}>\r\n              {errors.remarks?.type === 'required' && 'This field is required'}\r\n            </p>\r\n          </Form.Item>\r\n        </Form>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Second',\r\n      content: <ImageUpload />,\r\n    },\r\n  ];\r\n\r\n  if (title === 'Delete') {\r\n    return (\r\n      <div>\r\n        <Form {...layout} name=\"nest-messages\">\r\n          <h1>{title}</h1>\r\n          <Button\r\n            style={{display: 'block'}}\r\n            onClick={() => onDelete()}\r\n            type=\"primary\"\r\n            htmlType=\"submit\">\r\n            Submit\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <FormProvider {...methods}>\r\n      <form action=\"\" onSubmit={handleSubmit(onSubmit)}>\r\n        <Steps style={{padding: '20px'}} current={current}>\r\n          {steps.map(item => (\r\n            <Step key={item.title} title={item.title} />\r\n          ))}\r\n        </Steps>\r\n        <div className=\"steps-content\">{steps[current].content}</div>\r\n        <div className=\"steps-action\">\r\n          {current < steps.length - 1 && (\r\n            <Button type=\"secondary\" onClick={() => next()}>\r\n              Next\r\n            </Button>\r\n          )}\r\n          {current > 0 && (\r\n            <Button style={{margin: '0 8px'}} onClick={() => prev()}>\r\n              Previous\r\n            </Button>\r\n          )}\r\n          <input style={{float: 'right'}} type=\"submit\" />\r\n        </div>\r\n      </form>\r\n    </FormProvider>\r\n  );\r\n};\r\n\r\nexport default memo(VehiclesForm);\r\n","import axiosInstance from './axios';\r\nimport {dataToOptions} from '../functions/helper';\r\n\r\nexport const getAllClients = ({queryKey, pageParam = 1}) => {\r\n  let url = 'clients?page=' + pageParam;\r\n  if (queryKey[1]) {\r\n    url += `&search=${queryKey[1]}`;\r\n  }\r\n  return axiosInstance.get(url, {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('jwt-token')}`,\r\n    },\r\n  });\r\n};\r\n\r\nexport const getClients = (search, page) => {\r\n  let params = {};\r\n  if (search) params.search = search;\r\n  if (page) params.page = page;\r\n\r\n  return axiosInstance.get('/clients', {\r\n    params: params,\r\n    headers: {Authorization: `Bearer ${localStorage.getItem('jwt-token')}`},\r\n  });\r\n};\r\n\r\nexport const getUser = userId => {\r\n  return axiosInstance.get(`user-show/${userId}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('jwt-token')}`,\r\n    },\r\n  });\r\n};\r\n\r\nexport async function getClientsOptions(search, loadedOptions, {page}) {\r\n  const res = await axiosInstance.get('/clients', {\r\n    params: {page: page},\r\n    headers: {Authorization: `Bearer ${localStorage.getItem('jwt-token')}`},\r\n  });\r\n\r\n  return {\r\n    options: dataToOptions(res?.data?.data),\r\n    hasMore: res?.data?.current_page < res?.data?.last_page,\r\n    additional: {\r\n      page: page + 1,\r\n    },\r\n  };\r\n}\r\n\r\nexport const getAllCountries = () => {\r\n  return axiosInstance.get('countries', {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('jwt-token')}`,\r\n    },\r\n  });\r\n};\r\n\r\nexport const deleteUser = id => {\r\n  return axiosInstance.delete(`user-delete/${id}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('jwt-token')}`,\r\n    },\r\n  });\r\n};\r\n\r\nexport const updateClient = async data => {\r\n  const clientData = {\r\n    name: data.name,\r\n    email: data.email,\r\n    phone_no: data.phone_no,\r\n    identification_document_no: String(data.identification_document_no),\r\n    country_id: String(data.country_id),\r\n  };\r\n\r\n  axiosInstance.post(`user-update/${data.user.id}`, clientData, {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('jwt-token')}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n  // console.log('req', req);\r\n};\r\n\r\nexport const createClient = data => {\r\n  const clientData = {\r\n    name: data.name,\r\n    email: data.email,\r\n    phone_no: String(data.phone_no),\r\n    identification_document_no: String(data.identification_document_no),\r\n    country_id: String(data.country_id),\r\n  };\r\n  return axiosInstance.post('/user-store', clientData, {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('jwt-token')}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n};\r\n","import {Form, Input, Button, Select} from 'antd';\r\nimport {useForm, Controller} from 'react-hook-form';\r\nimport {yupResolver} from '@hookform/resolvers/yup';\r\nimport * as yup from 'yup';\r\n\r\nimport {useState} from 'react';\r\nimport {useQuery, useMutation, useQueryClient} from 'react-query';\r\nimport {\r\n  getAllCountries,\r\n  deleteUser,\r\n  createClient,\r\n  updateClient,\r\n} from '../../services/clients';\r\nimport Loader from 'react-loader-spinner';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst initialData = {\r\n  name: '',\r\n  identification_document_no: '',\r\n  phone_no: 0,\r\n  country_id: '',\r\n  remarks: '',\r\n};\r\n\r\nconst schema = yup.object().shape({\r\n  name: yup.string().required(),\r\n  email: yup.string().email().required(),\r\n  country_id: yup.number().required(),\r\n  identification_document_no: yup.string().required(),\r\n  phone_no: yup.number().required(),\r\n});\r\n\r\nconst ClientsForm = ({title, ClientId, onSuccessCallback}) => {\r\n  const [errorsBack, setErrors] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const {\r\n    handleSubmit,\r\n    control,\r\n\r\n    setValue,\r\n    formState: {errors},\r\n  } = useForm(\r\n    {\r\n      defaultValues: {\r\n        name: ClientId?.name,\r\n        email: ClientId?.email,\r\n        identification_document_no: ClientId?.identification_document_no,\r\n        phone_no: ClientId?.phone_no,\r\n        country_id: ClientId?.country_id,\r\n        remarks: ClientId?.remarks,\r\n      },\r\n    },\r\n    {resolver: yupResolver(schema)},\r\n  );\r\n\r\n  const queryClient = useQueryClient(initialData);\r\n\r\n  const {data} = useQuery('countries', getAllCountries);\r\n\r\n  const formDisabled = title === 'Show';\r\n\r\n  const updateMutation = useMutation(\r\n    ['updateMutation', ClientId],\r\n    data => updateClient(data, ClientId.user.id),\r\n    {\r\n      onSuccess: () => {\r\n        Swal.fire('Good job!', 'You edited  the client!', 'success');\r\n        queryClient.refetchQueries('clients');\r\n      },\r\n      onError: error => {\r\n        Swal.fire(\r\n          'Something goes wrong!',\r\n\r\n          'error',\r\n        );\r\n\r\n        setErrors(error.response.data.message);\r\n      },\r\n    },\r\n  );\r\n\r\n  const onFinish = async data => {\r\n    if (title === 'Add new client') {\r\n      createClient(data)\r\n        .then(r => {\r\n          queryClient.refetchQueries('clients');\r\n          onSuccessCallback();\r\n          Swal.fire('Good job!', 'You created  the client!', 'success');\r\n          setLoading(true);\r\n        })\r\n        .catch(err => {\r\n          Swal.fire(\r\n            'Something goes wrong!',\r\n\r\n            'error',\r\n          );\r\n          setErrors(err.response.data.message);\r\n        });\r\n    } else if (title === 'Edit') {\r\n      await updateMutation.mutateAsync(data);\r\n      queryClient.refetchQueries('clients');\r\n      onSuccessCallback();\r\n    }\r\n  };\r\n\r\n  const onDelete = () => {\r\n    setLoading(true);\r\n    deleteUser(ClientId.user.id).then(r => {\r\n      queryClient.refetchQueries('clients');\r\n      onSuccessCallback();\r\n      Swal.fire('You deleted  the client!');\r\n    });\r\n  };\r\n\r\n  if (title === 'Edit') {\r\n    Object.keys(ClientId).forEach(prop => {\r\n      setValue(prop, ClientId[prop]);\r\n    });\r\n  }\r\n\r\n  if (title === 'Delete') {\r\n    return (\r\n      <div>\r\n        <div>\r\n          <h3>Delete {ClientId.name}?</h3>\r\n        </div>\r\n\r\n        <Button\r\n          style={{display: 'block'}}\r\n          onClick={() => onDelete()}\r\n          type=\"primary\"\r\n          htmlType=\"submit\">\r\n          Delete\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <Form onFinish={handleSubmit(onFinish)}>\r\n      <Form.Item\r\n        span={6}\r\n        label=\"First and Last name\"\r\n        htmlFor=\"name\"\r\n        required={true}>\r\n        <Controller\r\n          name=\"name\"\r\n          control={control}\r\n          rules={{required: true}}\r\n          render={({field}) => <Input disabled={formDisabled} {...field} />}\r\n        />\r\n        <p style={{color: 'red'}}>\r\n          {errors.name?.type === 'required' && 'This field is required'}\r\n        </p>\r\n      </Form.Item>\r\n      <Form.Item label=\"Email\" htmlFor=\"email\" required={true}>\r\n        <Controller\r\n          name=\"email\"\r\n          control={control}\r\n          rules={{required: true}}\r\n          render={({field}) => (\r\n            <Input type=\"email\" disabled={formDisabled} {...field} />\r\n          )}\r\n        />\r\n        <p style={{color: 'red'}}>\r\n          {errorsBack === 'The email has already been taken.'\r\n            ? 'The email has already been taken.'\r\n            : ''}\r\n        </p>\r\n        <p style={{color: 'red'}}>\r\n          {errors.email?.type === 'required' && 'This field is required'}\r\n        </p>\r\n        <p style={{color: 'red'}}>{errors.email?.message}</p>\r\n      </Form.Item>\r\n      <Form.Item label=\"Country\" required={true}>\r\n        <Controller\r\n          name=\"country_id\"\r\n          control={control}\r\n          rules={{required: true}}\r\n          render={({field}) => (\r\n            <Select\r\n              disabled={formDisabled}\r\n              defaultValue=\"choose country\"\r\n              options={\r\n                data?.data.map(country => {\r\n                  return {label: country.name, value: country.id};\r\n                }) || []\r\n              }\r\n              {...field}\r\n            />\r\n          )}\r\n        />\r\n        <p style={{color: 'red'}}>\r\n          {errors.country_id?.type === 'required' && 'Please select a country'}\r\n        </p>\r\n      </Form.Item>\r\n      <Form.Item\r\n        label=\"ID or Passport\"\r\n        htmlFor=\"identification_document_no\"\r\n        required={true}>\r\n        <Controller\r\n          name=\"identification_document_no\"\r\n          control={control}\r\n          rules={{required: true}}\r\n          render={({field}) => <Input disabled={formDisabled} {...field} />}\r\n        />\r\n        <p style={{color: 'red'}}>\r\n          {errors.identification_document_no?.type === 'required' &&\r\n            'This field is required'}\r\n        </p>\r\n        <p style={{color: 'red'}}>\r\n          {errors.identification_document_no?.message\r\n            ? 'ID or Passport must be a number'\r\n            : ''}\r\n        </p>\r\n        <p style={{color: 'red'}}>\r\n          {errorsBack ===\r\n          'The identification document no has already been taken.'\r\n            ? 'The identification document no has already been taken.'\r\n            : ''}\r\n        </p>\r\n        <p style={{color: 'red'}}>\r\n          {errorsBack ===\r\n          'The identification document no must only contain letters and numbers.'\r\n            ? 'The identification document no must only contain letters and numbers..'\r\n            : ''}\r\n        </p>\r\n      </Form.Item>\r\n      <Form.Item label=\"Phone\" htmlFor=\"phone_no\" required={true}>\r\n        <Controller\r\n          name=\"phone_no\"\r\n          control={control}\r\n          rules={{required: true}}\r\n          render={({field}) => (\r\n            <Input type=\"number\" disabled={formDisabled} {...field} />\r\n          )}\r\n        />\r\n        <p style={{color: 'red'}}>\r\n          {errors.phone_no?.type === 'required' && 'This field is required'}\r\n        </p>\r\n        <p style={{color: 'red'}}>\r\n          {errors.phone_no?.message ? 'Phone must be a number' : ''}\r\n        </p>\r\n      </Form.Item>\r\n      <input type=\"submit\" disabled={formDisabled} />\r\n      {loading === false ? <Loader /> : ''}\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default ClientsForm;\r\n","import {Controller} from 'react-hook-form';\r\nimport {Form, Input, InputNumber, Select, Tooltip, DatePicker} from 'antd';\r\nimport {InfoCircleOutlined} from '@ant-design/icons';\r\nimport React from 'react';\r\nimport {AsyncPaginate} from 'react-select-async-paginate';\r\n\r\nconst FormInput = ({\r\n  data: {\r\n    name,\r\n    type,\r\n    label,\r\n    required,\r\n    icon,\r\n    tooltip,\r\n    defaultValue,\r\n    input_params,\r\n    helper_params,\r\n    options,\r\n  },\r\n  errors,\r\n  control,\r\n  setValue,\r\n}) => {\r\n  return (\r\n    <Form.Item\r\n      validateStatus={errors && errors[name] ? 'error' : ''}\r\n      help={errors[name]?.message}\r\n      label={label}\r\n      htmlFor={name}\r\n      required={required}>\r\n      <Controller\r\n        name={name}\r\n        control={control}\r\n        render={({field}) => {\r\n          switch (type) {\r\n            case 'text':\r\n              return (\r\n                <Input\r\n                  {...field}\r\n                  prefix={icon ? icon : ''}\r\n                  {...input_params}\r\n                  id={name}\r\n                  suffix={\r\n                    tooltip ? (\r\n                      <Tooltip title={tooltip ? tooltip : ''}>\r\n                        <InfoCircleOutlined\r\n                          style={{color: 'rgba(0,0,0,.45)'}}\r\n                        />\r\n                      </Tooltip>\r\n                    ) : (\r\n                      ''\r\n                    )\r\n                  }\r\n                />\r\n              );\r\n            case 'number':\r\n              return (\r\n                <InputNumber\r\n                  {...field}\r\n                  prefix={icon ? icon : ''}\r\n                  {...input_params}\r\n                  defaultValue={defaultValue}\r\n                  id={name}\r\n                  suffix={\r\n                    tooltip ? (\r\n                      <Tooltip title={tooltip ? tooltip : ''}>\r\n                        <InfoCircleOutlined\r\n                          style={{color: 'rgba(0,0,0,.45)'}}\r\n                        />\r\n                      </Tooltip>\r\n                    ) : (\r\n                      ''\r\n                    )\r\n                  }\r\n                />\r\n              );\r\n            case 'select':\r\n              return (\r\n                <Select\r\n                  {...field}\r\n                  defaultValue={defaultValue}\r\n                  {...input_params}\r\n                  id={name}>\r\n                  {options.map((option, index) => {\r\n                    return (\r\n                      <Select.Option key={index} value={option.value}>\r\n                        {option.label}\r\n                      </Select.Option>\r\n                    );\r\n                  })}\r\n                </Select>\r\n              );\r\n\r\n            case 'select_async':\r\n              return (\r\n                <div>\r\n                  <AsyncPaginate\r\n                    defaultValue={defaultValue}\r\n                    additional={{\r\n                      page: 1,\r\n                    }}\r\n                    onChange={e => {\r\n                      setValue(name, e.value, {\r\n                        shouldValidate: true,\r\n                        shouldDirty: true,\r\n                        shouldTouch: true,\r\n                      });\r\n                    }}\r\n                    {...helper_params}\r\n                  />\r\n                  <input type=\"hidden\" id={name} {...field} {...input_params} />\r\n                </div>\r\n              );\r\n            case 'textarea':\r\n              return (\r\n                <Input.TextArea\r\n                  {...field}\r\n                  id={name}\r\n                  {...input_params}\r\n                  suffix={\r\n                    tooltip ? (\r\n                      <Tooltip title={tooltip ? tooltip : ''}>\r\n                        <InfoCircleOutlined\r\n                          style={{color: 'rgba(0,0,0,.45)'}}\r\n                        />\r\n                      </Tooltip>\r\n                    ) : (\r\n                      ''\r\n                    )\r\n                  }\r\n                />\r\n              );\r\n            case 'date':\r\n              return <DatePicker {...field} id={name} {...input_params} />;\r\n            case 'password':\r\n              return (\r\n                <Input.Password\r\n                  {...field}\r\n                  prefix={icon ? icon : ''}\r\n                  {...input_params}\r\n                  id={name}\r\n                  suffix={\r\n                    tooltip ? (\r\n                      <Tooltip title={tooltip ? tooltip : ''}>\r\n                        <InfoCircleOutlined\r\n                          style={{color: 'rgba(0,0,0,.45)'}}\r\n                        />\r\n                      </Tooltip>\r\n                    ) : (\r\n                      ''\r\n                    )\r\n                  }\r\n                />\r\n              );\r\n            default:\r\n              return <></>;\r\n          }\r\n        }}\r\n      />\r\n    </Form.Item>\r\n  );\r\n};\r\n\r\nexport default FormInput;\r\n","import {useEffect, useState} from 'react';\r\nimport {Modal, Button, Form} from 'antd';\r\nimport {SaveOutlined} from '@ant-design/icons';\r\nimport * as yup from 'yup';\r\nimport {useForm} from 'react-hook-form';\r\nimport {yupResolver} from '@hookform/resolvers/yup';\r\nimport FormInput from '../formInput/FormInput';\r\nimport {changePassword} from '../../services/account';\r\n\r\nconst password_roules = yup\r\n  .string()\r\n  .required('required')\r\n  .min(4, 'Password is too short - should be 4 chars minimum.')\r\n  .max(12, 'Password is too long - should be 12 chars maximum.')\r\n  .matches(\r\n    /^[a-zA-Z0-9!#%&]*$/g,\r\n    'Password can only contain Latin letters, numbers and chars(!,#,%,&)',\r\n  );\r\n\r\nconst schema = yup.object().shape({\r\n  old_password: password_roules,\r\n  new_password: password_roules,\r\n  confirm_password: yup\r\n    .string()\r\n    .oneOf([yup.ref('new_password'), null], 'Passwords must match'),\r\n});\r\n\r\nconst ChangePassword = () => {\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const {\r\n    formState: {errors},\r\n    handleSubmit,\r\n    control,\r\n    reset,\r\n  } = useForm({\r\n    mode: 'onSubmit',\r\n    reValidateMode: 'onChange',\r\n    resolver: yupResolver(schema),\r\n    defaultValues: {\r\n      email: '',\r\n      password: '',\r\n      remember: false,\r\n    },\r\n  });\r\n  const handleCancel = () => {\r\n    if (isLoading === false) setOpenModal(false);\r\n  };\r\n  useEffect(() => {\r\n    if (openModal) reset({});\r\n  }, [openModal]);\r\n\r\n  const onFinish = data => {\r\n    setIsLoading(true);\r\n    changePassword(data)\r\n      .then(res => {\r\n        setIsLoading(false);\r\n\r\n        setOpenModal(false);\r\n      })\r\n      .catch(err => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const footer = [\r\n    <Button\r\n      disabled={isLoading}\r\n      className=\"login-form-button\"\r\n      key=\"cancel\"\r\n      onClick={handleCancel}>\r\n      Cancel\r\n    </Button>,\r\n\r\n    <Button\r\n      loading={isLoading}\r\n      type=\"primary\"\r\n      key=\"ok\"\r\n      form=\"change-password-form\"\r\n      icon={<SaveOutlined />}\r\n      htmlType=\"submit\"\r\n      className=\"login-form-button\">\r\n      Edit\r\n    </Button>,\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <Button onClick={() => setOpenModal(true)}>Edit password</Button>\r\n      <Modal\r\n        title=\"Change password\"\r\n        visible={openModal}\r\n        onCancel={handleCancel}\r\n        footer={footer}>\r\n        <Form\r\n          id=\"change-password-form\"\r\n          labelCol={{span: 7}}\r\n          wrapperCol={{span: 17}}\r\n          layout=\"horizontal\"\r\n          onFinish={handleSubmit(onFinish)}>\r\n          <FormInput\r\n            data={{\r\n              type: 'password',\r\n              name: 'old_password',\r\n              label: 'Old password',\r\n              required: true,\r\n              input_params: {\r\n                placeholder: ' type old password',\r\n              },\r\n            }}\r\n            errors={errors}\r\n            control={control}\r\n          />\r\n          <FormInput\r\n            data={{\r\n              type: 'text',\r\n              name: 'new_password',\r\n              label: 'New password',\r\n              required: true,\r\n              input_params: {\r\n                type: 'password',\r\n                placeholder: 'type new password',\r\n              },\r\n            }}\r\n            errors={errors}\r\n            control={control}\r\n          />\r\n          <FormInput\r\n            data={{\r\n              type: 'text',\r\n              name: 'confirm_password',\r\n              label: 'Confirm password',\r\n              required: true,\r\n              input_params: {\r\n                type: 'password',\r\n                placeholder: 'Confirm new password',\r\n              },\r\n            }}\r\n            errors={errors}\r\n            control={control}\r\n          />\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChangePassword;\r\n","import React, {useState, useEffect} from 'react';\r\nimport 'antd/dist/antd.css';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport {Menu, Dropdown, Button, Avatar, Col, Row, Modal} from 'antd';\r\nimport {UserOutlined} from '@ant-design/icons';\r\n\r\nimport uuid from 'react-uuid';\r\nimport Title from 'antd/lib/typography';\r\nimport logo from '../../images/logo.png';\r\nimport VehiclesForm from '../../pages/Vehicles/components/VehiclesForm';\r\nimport ClientsForm from '../../pages/Clients/ClientsForm';\r\nimport {me} from '../../services/account';\r\nimport {auth} from '../../functions/helper';\r\nimport ChangePassword from '../changePassword/ChangePassword';\r\n\r\nconst NavbarTop = () => {\r\n  const history = useHistory();\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n  const [content, setContent] = useState('');\r\n  const [userName, setUserName] = useState();\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n  };\r\n  const handleOk = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let authObj = localStorage.getItem('auth');\r\n    let accName = JSON.parse(authObj);\r\n    setUserName(accName.name);\r\n  }, []);\r\n\r\n  const menu = (\r\n    <Menu>\r\n      {auth().role === 'Employee' ? (\r\n        <div>\r\n          <Menu.Item key={uuid()}>\r\n            <Button\r\n              style={{border: 'none'}}\r\n              onClick={() => {\r\n                showModal();\r\n                setContent(<VehiclesForm title=\"Add new vehicle\" />);\r\n              }}>\r\n              add new vehicle\r\n            </Button>\r\n          </Menu.Item>\r\n          <Menu.Item key={uuid()}>\r\n            <Button\r\n              style={{border: 'none'}}\r\n              onClick={() => {\r\n                showModal();\r\n                setContent(<ClientsForm title=\"Add new client\" />);\r\n              }}>\r\n              add new client\r\n            </Button>\r\n          </Menu.Item>\r\n          <Menu.Item key={uuid()}>\r\n            <Link to=\"/add-reservations\">Add new reservetions</Link>\r\n          </Menu.Item>\r\n          <Menu.Item key={uuid()}>\r\n            <Button\r\n              key={uuid()}\r\n              style={{border: 'none'}}\r\n              onClick={() => {\r\n                localStorage.clear('jwt-token');\r\n                history.push('/');\r\n              }}>\r\n              Logout\r\n            </Button>\r\n          </Menu.Item>\r\n          ;\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <Menu.Item key={uuid()}>\r\n            <ChangePassword />\r\n          </Menu.Item>\r\n          <Menu.Item key={uuid()}>\r\n            <Button\r\n              key={uuid()}\r\n              style={{border: 'none'}}\r\n              onClick={() => {\r\n                localStorage.clear('jwt-token');\r\n                history.push('/');\r\n              }}>\r\n              Logout\r\n            </Button>\r\n          </Menu.Item>\r\n          ;\r\n        </div>\r\n      )}\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <Row style={{padding: '0'}}>\r\n      <Col span={6}>\r\n        {' '}\r\n        <Avatar style={{height: '55px', width: '55px'}} src={logo} />\r\n      </Col>\r\n      <Col span={6}>\r\n        <Title style={{color: 'white', fontSize: '20px'}}>\r\n          {userName} <UserOutlined />\r\n        </Title>\r\n      </Col>\r\n\r\n      <Col span={12}>\r\n        <Dropdown align=\"end\" overlay={menu}>\r\n          <Button style={{float: 'right', margin: '20px 0 0 1px'}}>Menu</Button>\r\n        </Dropdown>\r\n      </Col>\r\n      <Modal\r\n        visible={isModalVisible}\r\n        footer={null}\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}>\r\n        {content}\r\n      </Modal>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default NavbarTop;\r\n","import React from 'react';\r\nimport {useState} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport uuid from 'react-uuid';\r\nimport 'antd/dist/antd.css';\r\nimport {Layout, Menu} from 'antd';\r\nimport {DesktopOutlined, CarOutlined, TeamOutlined} from '@ant-design/icons';\r\n\r\nconst {Sider} = Layout;\r\n\r\nconst SideBar = () => {\r\n  const [collapsed, setCollapsed] = useState(true);\r\n\r\n  const onCollapse = collapsed => {\r\n    setCollapsed(collapsed);\r\n  };\r\n\r\n  return (\r\n    <Sider\r\n      style={{minHeight: '100vh'}}\r\n      breakpoint=\"lg\"\r\n      collapsedWidth=\"0\"\r\n      collapsible\r\n      onCollapse={onCollapse}>\r\n      <div className=\"logo\" />\r\n      <Menu theme=\"dark\" mode=\"inline\">\r\n        <Menu.Item key={uuid()} icon={<TeamOutlined />}>\r\n          <Link to=\"/clients\">Clients</Link>\r\n        </Menu.Item>\r\n        <Menu.Item key={uuid()} icon={<CarOutlined />}>\r\n          <Link to=\"/vehicles\">Vehicles</Link>\r\n        </Menu.Item>\r\n        <Menu.Item key={uuid()} icon={<DesktopOutlined />}>\r\n          <Link to=\"/reservations\">Reservations</Link>\r\n        </Menu.Item>\r\n      </Menu>\r\n    </Sider>\r\n  );\r\n};\r\n\r\nexport default SideBar;\r\n","import React from 'react';\r\nimport NavbarTop from '../navbarTop/navbarTop';\r\nimport SiderDemo from '../sider/SideBar';\r\nimport {Layout} from 'antd';\r\n\r\nconst {Header, Footer, Content} = Layout;\r\n\r\nconst AuthLayout = ({children}) => {\r\n  return (\r\n    <Layout>\r\n      <Header>\r\n        <NavbarTop />\r\n      </Header>\r\n      <Layout>\r\n        <SiderDemo />\r\n        <Content style={{padding: '40px'}}>{children}</Content>\r\n      </Layout>\r\n      <Footer style={{textAlign: 'center'}}>Amplitudo Academy 2020/2021</Footer>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AuthLayout;\r\n","const BasicLayout = ({children}) => {\r\n  return children;\r\n};\r\n\r\nexport default BasicLayout;\r\n","import axiosInstance from './axios';\r\n\r\nexport const getAllReservations = ({queryKey, pageParam = 1}) => {\r\n  let url = 'reservations?page=' + pageParam;\r\n  if (queryKey[1]) {\r\n    url += `&search=${queryKey[1]}`;\r\n  }\r\n  return axiosInstance.get(url, {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('jwt-token')}`,\r\n    },\r\n  });\r\n};\r\n\r\nexport const createReservation = data => {\r\n  return axiosInstance.post('/reservation-store', data, {\r\n    headers: {Authorization: `Bearer ${localStorage.getItem('jwt-token')}`},\r\n  });\r\n};\r\n\r\nexport const showReservation = id => {\r\n  return axiosInstance.get(`reservation-show/${id}`, {\r\n    headers: {Authorization: `Bearer ${localStorage.getItem('jwt-token')}`},\r\n  });\r\n};\r\n\r\nexport const updateReservation = id => {\r\n  return axiosInstance.post(`reservation-update${id}`, {\r\n    headers: {Authorization: `Bearer ${localStorage.getItem('jwt-token')}`},\r\n  });\r\n};\r\n\r\nexport const deleteReservation = id => {\r\n  return axiosInstance.delete(`reservation-delete/${id}`, {\r\n    headers: {Authorization: `Bearer ${localStorage.getItem('jwt-token')}`},\r\n  });\r\n};\r\n\r\nexport const getLocations = () => {\r\n  return axiosInstance.get('/locations', {\r\n    headers: {Authorization: `Bearer ${localStorage.getItem('jwt-token')}`},\r\n  });\r\n};\r\n\r\nexport async function getReservations(queryKey) {\r\n  \r\n  const page = queryKey?.pageParam || 1;\r\n  const search = queryKey?.queryKey[1];\r\n  const res = await axiosInstance.get('/reservations', {\r\n    params: {search: search, page: page},\r\n    headers: {Authorization: `Bearer ${localStorage.getItem('jwt-token')}`},\r\n  });\r\n\r\n  return {\r\n    items: res?.data?.data,\r\n    page: res?.data?.current_page,\r\n    last_page: res?.data?.last_page,\r\n  };\r\n}\r\n\r\nexport const getEquipment = () => {\r\n  return axiosInstance.get('/equipment', {\r\n    headers: {Authorization: `Bearer ${localStorage.getItem('jwt-token')}`},\r\n  });\r\n};\r\n","import {getReservations} from '../../../services/reservations';\r\nimport {useInfiniteQuery, useQueryClient} from 'react-query';\r\nimport {Card, Modal, Button, Skeleton, Spin, Select, Space} from 'antd';\r\nimport React, {useState} from 'react';\r\nimport {concatDataTwo, getReservationStatus} from '../../../functions/helper';\r\nimport {RESERVATION_STATUS} from '../../../constants/constants';\r\nimport {useBottomScrollListener} from 'react-bottom-scroll-listener';\r\n\r\nconst Home = () => {\r\n  const [equip, setEquip] = useState([]);\r\n  const [showData, setShowData] = useState({});\r\n  const [current, setCurrent] = useState(RESERVATION_STATUS.ALL);\r\n\r\n  const queryClient = useQueryClient();\r\n  const {\r\n    data,\r\n\r\n    isLoading,\r\n\r\n    fetchNextPage,\r\n    hasNextPage,\r\n\r\n    isFetchingNextPage,\r\n  } = useInfiniteQuery(['reservations', ''], getReservations, {\r\n    getNextPageParam: ({page, last_page}) => {\r\n      if (page < last_page) {\r\n        return page + 1;\r\n      }\r\n      return false;\r\n    },\r\n  });\r\n\r\n  useBottomScrollListener(() => {\r\n    if (hasNextPage) fetchNextPage();\r\n  });\r\n\r\n  const openModal = data => {\r\n    setShowData(data);\r\n    setEquip(data?.equipment);\r\n  };\r\n  const footer = [\r\n    <Button\r\n      key=\"close\"\r\n      className=\"login-form-button\"\r\n      onClick={() => {\r\n        setShowData({});\r\n      }}>\r\n      Cancel\r\n    </Button>,\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <Space\r\n        style={{\r\n          marginTop: 10,\r\n          marginLeft: 10,\r\n          display: 'flex',\r\n          justifyContent: 'start',\r\n        }}>\r\n        <div>\r\n          <span>Show </span>\r\n          <Select\r\n            defaultValue={RESERVATION_STATUS.ALL}\r\n            style={{width: 150}}\r\n            onChange={e => setCurrent(e)}>\r\n            <Select.Option value={RESERVATION_STATUS.ALL}>All</Select.Option>\r\n            <Select.Option value={RESERVATION_STATUS.PREVIOUS}>\r\n              Previous\r\n            </Select.Option>\r\n            <Select.Option value={RESERVATION_STATUS.PRESENT}>\r\n              Present\r\n            </Select.Option>\r\n            <Select.Option value={RESERVATION_STATUS.FUTURE}>\r\n              Future\r\n            </Select.Option>\r\n          </Select>\r\n        </div>\r\n      </Space>\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          flexWrap: 'wrap',\r\n          margin: 10,\r\n        }}>\r\n        <Skeleton loading={isLoading} avatar active>\r\n          {data &&\r\n            concatDataTwo(data)?.length > 0 &&\r\n            concatDataTwo(data).map(\r\n              (val, index) =>\r\n                (getReservationStatus(\r\n                  val?.from_date,\r\n                  val?.to_date,\r\n                  Date.now(),\r\n                ) === current ||\r\n                  current === RESERVATION_STATUS.ALL) && (\r\n                  <Card\r\n                    loading={isLoading}\r\n                    key={index}\r\n                    hoverable={true}\r\n                    title={val?.vehicle?.plate_no}\r\n                    style={{width: '33%'}}\r\n                    onClick={() => {\r\n                      openModal(val);\r\n                    }}>\r\n                    <p>\r\n                      From {val?.from_date} / {val?.rent_location?.name}\r\n                    </p>\r\n                    <p>\r\n                      To {val?.to_date} / {val?.return_location?.name}\r\n                    </p>\r\n                  </Card>\r\n                ),\r\n            )}\r\n        </Skeleton>\r\n      </div>\r\n      {isFetchingNextPage && <Spin tip=\"Loading...\" />}\r\n      <Modal\r\n        title=\"Info\"\r\n        visible={showData?.id}\r\n        onCancel={() => setShowData({})}\r\n        footer={footer}>\r\n        <div style={{textAlign: 'center', backgroundColor: 'skyblue'}}>\r\n          <h3>Reservation:</h3>\r\n          <p>From :{showData?.from_date}</p>\r\n          <p>To:{showData?.to_date}</p>\r\n          <p>Rent location:{showData?.rent_location?.name}</p>\r\n          <p>Return location:{showData?.return_location?.name}</p>\r\n          <h4>Total price:{showData?.total_price}</h4>\r\n          <h3>Client</h3>\r\n          <p>Frist & Last name: {showData?.client?.name}</p>\r\n          <h3>Vehicle:</h3>\r\n          <p>Plates number:{showData?.vehicle?.plate_no}</p>\r\n          <p>Production year:{showData?.vehicle?.production_year}</p>\r\n          <p>Vehicle type:{showData?.vehicle?.car_type?.name}</p>\r\n          <p>Number of seats:{showData?.vehicle?.no_of_seats}</p>\r\n          <p>Price/Day :{showData?.vehicle?.price_per_day}€</p>\r\n          <h3>Equipment</h3>\r\n          {equip.map(item => {\r\n            return (\r\n              <>\r\n                <p>\r\n                  {item.name} - {item.max_quantity}\r\n                </p>\r\n              </>\r\n            );\r\n          })}\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport {Layout} from 'antd';\r\nimport NavbarTop from '../navbarTop/navbarTop';\r\nimport ClientHome from '../../pages/home/client/ClientHome';\r\n\r\nconst {Content, Header} = Layout;\r\n\r\nconst ClientLayout = ({children}) => {\r\n  return (\r\n    <div>\r\n      <Layout>\r\n        <Header>\r\n          <NavbarTop />\r\n        </Header>\r\n        <Content style={{minHeight: '100vh'}}>\r\n          <ClientHome />\r\n        </Content>\r\n      </Layout>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientLayout;\r\n","import React from 'react';\r\nimport {Route} from 'react-router-dom';\r\nimport Forbidden from '../pages/forbidden/Frobidden';\r\nimport AuthLayout from '../components/layout/AuthLayout';\r\nimport BasicLayout from '../components/layout/BasicLayout';\r\nimport ClientLayout from '../components/layout/ClientLayout';\r\nimport {auth} from '../functions/helper';\r\nimport ClientHome from '../pages/home/client/ClientHome';\r\n\r\nconst PrivateRoute = ({component: Component, isPrivate, path, ...rest}) => {\r\n  const Layout = isPrivate\r\n    ? auth()?.role === 'Employee'\r\n      ? AuthLayout\r\n      : ClientLayout\r\n    : BasicLayout;\r\n\r\n  if (path === '/')\r\n    Component = auth()?.role === 'Employee' ? AuthLayout : ClientHome;\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={() => {\r\n        return isPrivate ? (\r\n          localStorage.getItem('jwt-token') ? (\r\n            <Layout>\r\n              <Component {...rest} />\r\n            </Layout>\r\n          ) : (\r\n            <Forbidden />\r\n          )\r\n        ) : (\r\n          <Layout>\r\n            <Component {...rest} />\r\n          </Layout>\r\n        );\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Table, Space, Input, Button} from 'antd';\r\nimport {getAllClients} from '../../services/clients';\r\nimport {useInfiniteQuery} from 'react-query';\r\nimport {Modal} from 'antd';\r\nimport ClientsForm from './ClientsForm';\r\n\r\nimport {useForm} from 'react-hook-form';\r\n\r\nconst Clients = () => {\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const {reset} = useForm();\r\n  const [content, setContent] = useState('');\r\n  const [search, setSearch] = useState();\r\n  const {data, fetchNextPage, isFetchingNextPage} = useInfiniteQuery(\r\n    ['clients', search],\r\n    getAllClients,\r\n    {\r\n      getNextPageParam: lastPage => {\r\n        const currentPageNo = lastPage.data.current_page;\r\n        const totalPageNo = lastPage.data.last_page;\r\n        return currentPageNo === totalPageNo ? undefined : currentPageNo + 1;\r\n      },\r\n    },\r\n  );\r\n\r\n  let tableData = [];\r\n  data?.pages.forEach(page => {\r\n    tableData.push(...page.data.data);\r\n  });\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n  };\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n  const closeModal = () => {\r\n    reset();\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  useEffect(\r\n    pageParams => {\r\n      var tableContent = document.querySelector('.ant-table-body');\r\n      tableContent.addEventListener('scroll', event => {\r\n        // checking whether a selector is well defined\r\n        let maxScroll = event.target.scrollHeight - event.target.clientHeight;\r\n        let currentScroll = event.target.scrollTop;\r\n        if (currentScroll === maxScroll) {\r\n          fetchNextPage();\r\n        }\r\n      });\r\n    },\r\n    [fetchNextPage],\r\n  );\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n    },\r\n    {\r\n      title: 'ID & Passport',\r\n      dataIndex: 'identification_document_no',\r\n      key: 'identification_document_no',\r\n    },\r\n    {\r\n      title: 'Phone number',\r\n      dataIndex: 'phone_no',\r\n      key: 'phone_no',\r\n    },\r\n    {\r\n      title: 'Date of first reservation',\r\n      key: 'date_of_first_reservation',\r\n      dataIndex: 'date_of_first_reservation',\r\n    },\r\n    {\r\n      title: 'Date of last reservation',\r\n      key: 'date_of_last_reservation',\r\n      dataIndex: 'date_of_last_reservation',\r\n    },\r\n    // {\r\n    //   title: 'Remarks',\r\n    //   key: 'remarks',\r\n    //   dataIndex: 'remarks',\r\n    // },\r\n    {\r\n      title: 'Action',\r\n      key: 'action',\r\n      render: record => (\r\n        <Space size=\"middle\">\r\n          <button\r\n            onClick={event => {\r\n              event.stopPropagation();\r\n              showModal();\r\n              setContent(\r\n                <ClientsForm\r\n                  title=\"Delete\"\r\n                  ClientId={record}\r\n                  onSuccessCallback={closeModal}\r\n                />,\r\n              );\r\n            }}>\r\n            Delete\r\n          </button>\r\n          <button\r\n            onClick={event => {\r\n              event.stopPropagation();\r\n              showModal();\r\n              setContent(\r\n                <ClientsForm\r\n                  title=\"Edit\"\r\n                  ClientId={record}\r\n                  onSuccessCallback={closeModal}\r\n                />,\r\n              );\r\n            }}>\r\n            Edit\r\n          </button>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        style={{border: 'none'}}\r\n        onClick={() => {\r\n          showModal();\r\n          setContent(\r\n            <ClientsForm\r\n              title=\"Add new client\"\r\n              onSuccessCallback={closeModal}\r\n            />,\r\n          );\r\n        }}>\r\n        add new client\r\n      </Button>\r\n\r\n      <Modal\r\n        destroyOnClose\r\n        footer={null}\r\n        title=\"Clients\"\r\n        onCancel={handleCancel}\r\n        visible={isModalVisible}>\r\n        {content}\r\n      </Modal>\r\n      <Input.Search\r\n        placeholder=\"Search client\"\r\n        allowClear\r\n        onSearch={e => {\r\n          setSearch(e);\r\n        }}\r\n        style={{width: 200}}\r\n      />\r\n\r\n      <Table\r\n        onRow={(record, rowIndex) => {\r\n          return {\r\n            onClick: event => {\r\n              showModal();\r\n              setContent(\r\n                <ClientsForm\r\n                  title=\"Show\"\r\n                  ClientId={record}\r\n                  onSuccessCallback={closeModal}\r\n                />,\r\n              );\r\n            },\r\n          };\r\n        }}\r\n        columns={columns}\r\n        rowKey={client => `client-${client.id}`}\r\n        scroll={{y: 400, x: 1000}}\r\n        dataSource={tableData}\r\n        pagination={false}\r\n        loading={isFetchingNextPage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Clients;\r\n","import React from 'react';\r\nimport {Image} from 'antd';\r\nimport uuid from 'react-uuid';\r\n\r\nconst ShowVehicle = ({\r\n  photos,\r\n  plates,\r\n  prodYear,\r\n  seats,\r\n  carType,\r\n  pricePerDay,\r\n  remarks,\r\n}) => {\r\n  console.log('vehicle photos', photos);\r\n  return (\r\n    <div style={{textAlign: 'center', backgroundColor: 'skyblue'}}>\r\n      <h3>Car Info</h3>\r\n      <p key={uuid()}>Plates -{plates}</p>\r\n      <p key={uuid()}>Production Year - {prodYear}</p>\r\n      <p key={uuid()}>Seats - {seats}</p>\r\n      <p key={uuid()}>Car Type - {carType}</p>\r\n      <p key={uuid()}>Price/Day - {pricePerDay}</p>\r\n      <p key={uuid()}>Additional Remarks - {remarks}</p>\r\n      {photos.map(photo => {\r\n        return (\r\n          <Image\r\n            width={200}\r\n            height={200}\r\n            src={`http://akademija-api.proserver.me/${photo.photo}`}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShowVehicle;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Table, Space, Modal, Button, Input} from 'antd';\r\nimport {getAllVehicles} from '../../services/vehicles';\r\nimport {useInfiniteQuery} from 'react-query';\r\nimport VehiclesForm from './components/VehiclesForm';\r\nimport ShowVehicle from './components/ShowVehicle';\r\n\r\nconst Vehicles = ({onSubmit}) => {\r\n  const [content, setContent] = useState('');\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [search, setSearch] = useState();\r\n\r\n  const {data, fetchNextPage, isFetchingNextPage} = useInfiniteQuery(\r\n    ['vehicles', search],\r\n    getAllVehicles,\r\n    {\r\n      getNextPageParam: lastPage => {\r\n        const currentPageNo = lastPage.data.current_page;\r\n        const totalPageNo = lastPage.data.last_page;\r\n        return currentPageNo === totalPageNo ? undefined : currentPageNo + 1;\r\n      },\r\n    },\r\n  );\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  let tableData = [];\r\n  data?.pages.forEach(page => {\r\n    tableData.push(...page.data.data);\r\n  });\r\n\r\n  useEffect(pageParams => {\r\n    var tableContent = document.querySelector('.ant-table-body');\r\n    tableContent.addEventListener('scroll', event => {\r\n      // checking whether a selector is well defined\r\n      let maxScroll = event.target.scrollHeight - event.target.clientHeight;\r\n      let currentScroll = event.target.scrollTop;\r\n      if (currentScroll === maxScroll) {\r\n        fetchNextPage();\r\n      }\r\n    });\r\n  });\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Plates',\r\n      dataIndex: 'plate_no',\r\n      key: 'plate_no',\r\n    },\r\n    {\r\n      title: 'Production Year',\r\n      dataIndex: 'production_year',\r\n      key: 'production_year',\r\n    },\r\n    {\r\n      title: 'Vehicle Type',\r\n      dataIndex: ['car_type', 'name'],\r\n      key: 'type',\r\n    },\r\n    {\r\n      title: 'Seats',\r\n      key: 'no_of_seats',\r\n      dataIndex: 'no_of_seats',\r\n    },\r\n    {\r\n      title: 'Price/Day',\r\n      key: 'price_per_day',\r\n      dataIndex: 'price_per_day',\r\n    },\r\n    {\r\n      title: 'Additional Remarks',\r\n      key: 'remarks',\r\n      dataIndex: 'remarks',\r\n    },\r\n    {\r\n      title: 'Action',\r\n      key: 'action',\r\n      render: record => (\r\n        <Space size=\"middle\">\r\n          <button\r\n            onClick={event => {\r\n              event.stopPropagation();\r\n\r\n              showModal();\r\n              setContent(<VehiclesForm title=\"Delete\" vehicleId={record.id} />);\r\n            }}>\r\n            Delete\r\n          </button>\r\n          <button\r\n            onClick={event => {\r\n              event.stopPropagation();\r\n\r\n              showModal();\r\n              setContent(<VehiclesForm title=\"Edit\" vehicleId={record} />);\r\n            }}>\r\n            Edit\r\n          </button>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        style={{border: 'none'}}\r\n        onClick={event => {\r\n          event.stopPropagation();\r\n\r\n          showModal();\r\n          setContent(<VehiclesForm title=\"Add new vehicle\" />);\r\n        }}>\r\n        add new vehicle\r\n      </Button>\r\n      <Input.Search\r\n        placeholder=\"Search vehicle\"\r\n        allowClear\r\n        onSearch={e => {\r\n          setSearch(e);\r\n        }}\r\n        style={{width: 200}}\r\n      />\r\n      <Modal\r\n        footer={null}\r\n        onCancel={handleCancel}\r\n        visible={isModalVisible}\r\n        destroyOnClose>\r\n        {content}\r\n      </Modal>\r\n      <Table\r\n        onRow={(record, rowIndex) => {\r\n          return {\r\n            onClick: event => {\r\n              setContent(\r\n                <ShowVehicle\r\n                  photos={record.photos}\r\n                  plates={record.plate_no}\r\n                  prodYear={record.production_year}\r\n                  seats={record.no_of_seats}\r\n                  carType={record.car_type.name}\r\n                  pricePerDay={record.price_per_day}\r\n                  remarks={record.remarks}\r\n                />,\r\n              );\r\n              setIsModalVisible(true);\r\n            }, // click row\r\n          };\r\n        }}\r\n        columns={columns}\r\n        rowKey={vehicle => `vehicle-${vehicle.id}`}\r\n        scroll={{y: 400, x: 1000}}\r\n        dataSource={tableData}\r\n        pagination={false}\r\n        loading={isFetchingNextPage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Vehicles;\r\n","import React from 'react';\r\nimport uuid from 'react-uuid';\r\n\r\nconst ShowReservation = ({\r\n  reservationId,\r\n  from_date,\r\n  to_date,\r\n  rentLocation,\r\n  returnLocation,\r\n  totalPrice,\r\n  plateNo,\r\n  prodYear,\r\n  carType,\r\n  noSeats,\r\n  pd,\r\n  equip,\r\n}) => {\r\n  return (\r\n    <div style={{textAlign: 'center', backgroundColor: 'skyblue'}}>\r\n      <h2>Reservation</h2>\r\n      <p key={uuid()}>From date: {from_date} </p>\r\n      <p key={uuid()}>To date: {to_date} </p>\r\n      <p key={uuid()}>Rent location: {rentLocation} </p>\r\n      <p key={uuid()}>Return location: {returnLocation} </p>\r\n      <p key={uuid()}>Total price: {totalPrice} €</p>\r\n      <h2 key={uuid()}>Vehicle</h2>\r\n      <p key={uuid()}>Plate number: {plateNo}</p>\r\n      <p key={uuid()}>Production Year: {prodYear}</p>\r\n      <p key={uuid()}>Car Type: {carType}</p>\r\n      <p key={uuid()}>Number of seats {noSeats}</p>\r\n      <p key={uuid()}>Price/Day {pd}</p>\r\n      <h3 key={uuid()}>Equipment</h3>\r\n      {equip.map(item => {\r\n        return (\r\n          <>\r\n            <p key={uuid()}>\r\n              {item.name} - {item.max_quantity}\r\n            </p>\r\n          </>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShowReservation;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Table, Space, Button} from 'antd';\r\nimport {\r\n  deleteReservation,\r\n  getAllReservations,\r\n} from '../../services/reservations';\r\nimport {useInfiniteQuery, useQueryClient} from 'react-query';\r\nimport {Modal} from 'antd';\r\nimport {useHistory} from 'react-router-dom';\r\nimport ShowReservation from './components/ShowReservation';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst Reservations = () => {\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [content, setContent] = useState('');\r\n  const history = useHistory();\r\n  const [search] = useState('');\r\n\r\n  const {data, fetchNextPage, isFetchingNextPage} = useInfiniteQuery(\r\n    ['reservations', search],\r\n    getAllReservations,\r\n    {\r\n      getNextPageParam: lastPage => {\r\n        const currentPageNo = lastPage.data.current_page;\r\n        const totalPageNo = lastPage.data.last_page;\r\n        return currentPageNo === totalPageNo ? undefined : currentPageNo + 1;\r\n      },\r\n    },\r\n  );\r\n  const queryClient = useQueryClient();\r\n\r\n  let tableData = [];\r\n  data?.pages.forEach(page => {\r\n    tableData.push(...page.data.data);\r\n  });\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const onDelete = id => {\r\n    deleteReservation(id);\r\n  };\r\n\r\n  useEffect(pageParams => {\r\n    var tableContent = document.querySelector('.ant-table-body');\r\n    tableContent.addEventListener('scroll', event => {\r\n      // checking whether a selector is well defined\r\n      let maxScroll = event.target.scrollHeight - event.target.clientHeight;\r\n      let currentScroll = event.target.scrollTop;\r\n      if (currentScroll === maxScroll) {\r\n        fetchNextPage();\r\n      }\r\n    });\r\n  });\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Client',\r\n      dataIndex: ['client', 'name'],\r\n      key: 'name',\r\n    },\r\n    {\r\n      title: 'Vehicle',\r\n      dataIndex: ['vehicle', 'plate_no'],\r\n      key: 'country',\r\n    },\r\n    {\r\n      title: 'From',\r\n      dataIndex: 'from_date',\r\n      key: 'from_date',\r\n    },\r\n    {\r\n      title: 'To',\r\n      key: 'to_date',\r\n      dataIndex: 'to_date',\r\n    },\r\n    {\r\n      title: 'Location',\r\n      key: 'rent_location',\r\n      dataIndex: ['rent_location', 'name'],\r\n    },\r\n    {\r\n      title: 'Return location',\r\n      key: 'return_location',\r\n      dataIndex: ['return_location', 'name'],\r\n    },\r\n    {\r\n      title: 'Total Price',\r\n      key: 'total_price',\r\n      dataIndex: 'total_price',\r\n    },\r\n    {\r\n      title: 'Action',\r\n      key: 'action',\r\n      render: record => (\r\n        <Space size=\"middle\">\r\n          <button\r\n            onClick={event => {\r\n              event.stopPropagation();\r\n              showModal();\r\n              setContent(\r\n                <div>\r\n                  <h3>Delete reservation for {record.client.name}</h3>\r\n                  <button\r\n                    style={{color: 'red'}}\r\n                    onClick={() => {\r\n                      onDelete(record.id);\r\n                      Swal.fire('You deleted  the client!');\r\n                      queryClient.refetchQueries('reservations');\r\n                      history.push('reservations');\r\n                    }}>\r\n                    Delete\r\n                  </button>\r\n                </div>,\r\n              );\r\n            }}>\r\n            delete\r\n          </button>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        className=\"dashed\"\r\n        onClick={() => {\r\n          history.push('/add-reservations');\r\n        }}>\r\n        add reservations\r\n      </Button>\r\n      <Modal onCancel={handleCancel} footer={null} visible={isModalVisible}>\r\n        {content}\r\n      </Modal>\r\n      <Table\r\n        onRow={record => {\r\n          return {\r\n            onClick: () => {\r\n              setContent(\r\n                <ShowReservation\r\n                  reservationId={record.id}\r\n                  from_date={record.from_date}\r\n                  to_date={record.to_date}\r\n                  rentLocation={record.rent_location.name}\r\n                  returnLocation={record.return_location.name}\r\n                  totalPrice={record.total_price}\r\n                  plateNo={record.vehicle.plate_no}\r\n                  prodYear={record.vehicle.production_year}\r\n                  carType={record.vehicle.car_type.name}\r\n                  noSeats={record.vehicle.no_of_seats}\r\n                  pd={record.price_per_day}\r\n                  equip={record.equipment}\r\n                />,\r\n              );\r\n              setIsModalVisible(true);\r\n            },\r\n          };\r\n        }}\r\n        columns={columns}\r\n        scroll={{y: 400, x: 1000}}\r\n        dataSource={tableData}\r\n        pagination={false}\r\n        loading={isFetchingNextPage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reservations;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Col, Form, Input, Row} from 'antd';\r\nimport FormInput from '../../../components/formInput/FormInput';\r\nimport {getEquipment, getLocations} from './../../../services/reservations';\r\nimport {getClientsOptions} from '../../../services/clients';\r\n\r\nconst CreateForm = ({\r\n  onFinish,\r\n  handleSubmit,\r\n  errors,\r\n  control,\r\n  setValue,\r\n  getValues,\r\n  price_per_day,\r\n}) => {\r\n  const [locationOptions, setLocationOptions] = useState([]);\r\n  const [equipment, setEquipment] = useState([]);\r\n  useEffect(() => {\r\n    getLocations().then(res => {\r\n      let data = res?.data;\r\n      setLocationOptions(data.map(e => Object({value: e.id, label: e.name})));\r\n    });\r\n    getEquipment().then(res => {\r\n      let data = res?.data?.data;\r\n      setEquipment(\r\n        data.map(e =>\r\n          Object({id: e.id, name: e.name, max_quantity: e.max_quantity}),\r\n        ),\r\n      );\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Form\r\n      id=\"create-reservation-form\"\r\n      labelCol={{span: 12}}\r\n      wrapperCol={{span: 17}}\r\n      layout=\"horizontal\"\r\n      onFinish={handleSubmit(onFinish)}\r\n      onValuesChange={() => {}}\r\n      size=\"default\">\r\n      <FormInput\r\n        data={{\r\n          type: 'text',\r\n          name: 'vehicle',\r\n          label: 'Vehicle',\r\n          required: false,\r\n          input_params: {\r\n            disabled: true,\r\n            style: {width: '100%', color: 'black'},\r\n          },\r\n        }}\r\n        errors={errors}\r\n        control={control}\r\n      />\r\n\r\n      <FormInput\r\n        data={{\r\n          type: 'select_async',\r\n          name: 'client_id',\r\n          label: 'Client',\r\n          required: true,\r\n          helper_params: {\r\n            placeholder: 'Choose client',\r\n            loadOptions: getClientsOptions,\r\n            defaultValue: '',\r\n          },\r\n        }}\r\n        errors={errors}\r\n        control={control}\r\n        setValue={setValue}\r\n      />\r\n\r\n      <FormInput\r\n        data={{\r\n          type: 'date',\r\n          name: 'from_date',\r\n          label: 'Datum od',\r\n          required: true,\r\n          input_params: {\r\n            style: {width: '100%'},\r\n            placeholder: 'From date',\r\n            allowClear: true,\r\n            onChange: e => {\r\n              let to_date = getValues('to_date');\r\n              let from_date = e;\r\n              if (from_date && to_date) {\r\n                let days = to_date.diff(from_date, 'days'); // =1\r\n\r\n                if (days > 0) setValue('total_price', days * price_per_day);\r\n                else setValue('total_price', 0);\r\n              } else {\r\n                setValue('total_price', 0);\r\n              }\r\n              setValue('from_date', e, {\r\n                shouldValidate: true,\r\n                shouldDirty: true,\r\n                shouldTouch: true,\r\n              });\r\n            },\r\n          },\r\n        }}\r\n        errors={errors}\r\n        control={control}\r\n      />\r\n\r\n      <FormInput\r\n        data={{\r\n          type: 'date',\r\n          name: 'to_date',\r\n          label: 'To date',\r\n          required: true,\r\n          input_params: {\r\n            style: {width: '100%'},\r\n            placeholder: 'to date',\r\n            allowClear: true,\r\n            onChange: e => {\r\n              let from_date = getValues('from_date');\r\n              let to_date = e;\r\n              if (from_date && to_date) {\r\n                let days = to_date.diff(from_date, 'days');\r\n\r\n                if (days > 0) setValue('total_price', days * price_per_day);\r\n                else setValue('total_price', 0);\r\n              } else {\r\n                setValue('total_price', 0);\r\n              }\r\n              setValue('to_date', e, {\r\n                shouldValidate: true,\r\n                shouldDirty: true,\r\n                shouldTouch: true,\r\n              });\r\n            },\r\n          },\r\n        }}\r\n        errors={errors}\r\n        control={control}\r\n      />\r\n\r\n      <FormInput\r\n        data={{\r\n          type: 'select',\r\n          name: 'rent_location_id',\r\n          label: 'Rent location',\r\n          required: true,\r\n          input_params: {\r\n            placeholder: 'Choose rent location',\r\n          },\r\n          options: locationOptions,\r\n        }}\r\n        errors={errors}\r\n        control={control}\r\n      />\r\n\r\n      <FormInput\r\n        data={{\r\n          type: 'select',\r\n          name: 'return_location_id',\r\n          label: 'Return location',\r\n          required: true,\r\n          input_params: {\r\n            placeholder: 'Choose return location',\r\n          },\r\n          options: locationOptions,\r\n        }}\r\n        errors={errors}\r\n        control={control}\r\n      />\r\n      <p>Equipment:</p>\r\n      <Input.Group>\r\n        <Row gutter={12}>\r\n          {equipment.map((e, i) => {\r\n            return (\r\n              <Col span={11}>\r\n                <FormInput\r\n                  key={i}\r\n                  data={{\r\n                    type: 'number',\r\n                    name: '_' + e.id,\r\n                    label: e.name,\r\n                    input_params: {\r\n                      max: e.max_quantity,\r\n                      step: 1,\r\n                      min: 0,\r\n                      placeholder: '0',\r\n                    },\r\n                  }}\r\n                  errors={errors}\r\n                  control={control}\r\n                />\r\n              </Col>\r\n            );\r\n          })}\r\n        </Row>\r\n      </Input.Group>\r\n      <p>Total price</p>\r\n      <FormInput\r\n        data={{\r\n          type: 'number',\r\n          name: 'total_price',\r\n          label: 'Total price',\r\n          input_params: {\r\n            readOnly: true,\r\n            min: 0,\r\n            formatter: value => `${value}€`,\r\n            parser: value => value.replace('€', ''),\r\n            style: {width: '100%', color: 'black'},\r\n          },\r\n        }}\r\n        errors={errors}\r\n        control={control}\r\n      />\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default CreateForm;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Modal, Button, message} from 'antd';\r\nimport CreateForm from './CreateForm';\r\nimport moment from 'moment';\r\nimport {createReservation} from './../../../services/reservations';\r\nimport {calcDays, getEquipmentData} from '../../../functions/helper';\r\n\r\nconst CreateModal = ({\r\n  openModal,\r\n  setOpenModal,\r\n  title,\r\n  form: {control, errors, handleSubmit, reset, setValue, getValues},\r\n  queryClient,\r\n  params,\r\n}) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleCancel = () => {\r\n    if (isLoading === false) setOpenModal({...openModal, open: false});\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (openModal.open && openModal.id) {\r\n      reset({\r\n        total_price: calcDays(\r\n          moment(params.start_date),\r\n          moment(params.end_date),\r\n          openModal?.data?.price_per_day,\r\n        ),\r\n        vehicle_id: openModal.id,\r\n        vehicle: openModal.data?.plate_no,\r\n        from_date: moment(params.start_date),\r\n        to_date: moment(params.end_date),\r\n      });\r\n    }\r\n  }, [openModal]);\r\n\r\n  const onFinish = data => {\r\n    let formData = getEquipmentData(data);\r\n\r\n    delete formData.vehicle;\r\n    delete formData.total_price;\r\n    formData.to_date = moment(formData.to_date).format('YYYY-MM-DD');\r\n    formData.from_date = moment(formData.from_date).format('YYYY-MM-DD');\r\n\r\n    setIsLoading(true);\r\n    createReservation(formData)\r\n      .then(res => {\r\n        queryClient.invalidateQueries('cars-available');\r\n        message.success('This is a success message');\r\n        setIsLoading(false);\r\n        setOpenModal({});\r\n      })\r\n      .catch(err => {\r\n        message(err?.response?.data?.message, 2);\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const footer = [\r\n    <Button\r\n      disabled={isLoading}\r\n      className=\"login-form-button\"\r\n      key=\"cancel\"\r\n      onClick={handleCancel}>\r\n      Cancel\r\n    </Button>,\r\n\r\n    <Button\r\n      loading={isLoading}\r\n      type=\"primary\"\r\n      key=\"ok\"\r\n      form=\"create-reservation-form\"\r\n      htmlType=\"submit\"\r\n      className=\"login-form-button\">\r\n      Submit\r\n    </Button>,\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        title={title}\r\n        visible={openModal.open}\r\n        onCancel={handleCancel}\r\n        footer={footer}>\r\n        <CreateForm\r\n          control={control}\r\n          errors={errors}\r\n          setValue={setValue}\r\n          getValues={getValues}\r\n          handleSubmit={handleSubmit}\r\n          onFinish={onFinish}\r\n          price_per_day={openModal?.data?.price_per_day}\r\n        />\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreateModal;\r\n","import {Space, Button, DatePicker, Select, Spin, message} from 'antd';\r\nimport {InfinityTable as Table} from 'antd-table-infinity';\r\nimport {FilterOutlined} from '@ant-design/icons';\r\nimport React, {useState} from 'react';\r\nimport {useForm} from 'react-hook-form';\r\nimport {yupResolver} from '@hookform/resolvers/yup';\r\nimport * as yup from 'yup';\r\nimport CreateModal from './components/CreateModal';\r\nimport {useInfiniteQuery, useQueryClient} from 'react-query';\r\nimport {getAvailableVehicles} from '../../services/vehicles';\r\nimport {concatDataTwo} from '../../functions/helper';\r\nimport {CAR_TYPES} from '../../constants/constants';\r\nimport moment from 'moment';\r\n\r\nconst schema = yup.object().shape({\r\n  to_date: yup.date().required(),\r\n  from_date: yup.date().required(),\r\n  rent_location_id: yup.number().integer().required(),\r\n  return_location_id: yup.number().integer().required(),\r\n  total_price: yup.number().required(),\r\n  vehicle_id: yup.number().integer().required(),\r\n  client_id: yup.number().integer().required(),\r\n});\r\nconst CreateReservation = () => {\r\n  const {\r\n    formState: {errors},\r\n    handleSubmit,\r\n    control,\r\n    reset,\r\n    setValue,\r\n    getValues,\r\n  } = useForm({\r\n    mode: 'onSubmit',\r\n    reValidateMode: 'onChange',\r\n    resolver: yupResolver(schema),\r\n    defaultValues: {\r\n      date_from: '',\r\n      date_to: '',\r\n      total_price: 0,\r\n    },\r\n  });\r\n\r\n  const onRowClick = record => {\r\n    return {\r\n      onClick: () => {\r\n        setOpenModal({\r\n          open: true,\r\n          title: 'Create reservation',\r\n          id: record.id,\r\n          data: record,\r\n        });\r\n      },\r\n    };\r\n  };\r\n\r\n  const [openModal, setOpenModal] = useState({});\r\n  const [filter, setFilter] = useState({\r\n    start_date: '',\r\n    end_date: '',\r\n    car_type: 0,\r\n  });\r\n  const [params, setParams] = useState({});\r\n  const columns = [\r\n    {\r\n      title: 'Plates number',\r\n      dataIndex: 'plate_no',\r\n    },\r\n    {\r\n      title: 'Production Year',\r\n      dataIndex: 'production_year',\r\n    },\r\n    {\r\n      title: 'Number of seats',\r\n      dataIndex: 'no_of_seats',\r\n    },\r\n    {\r\n      title: 'Price/Day',\r\n      dataIndex: 'price_per_day',\r\n    },\r\n  ];\r\n\r\n  const queryClient = useQueryClient();\r\n  const {\r\n    data,\r\n    isError,\r\n    fetchNextPage,\r\n    hasNextPage,\r\n    isFetching,\r\n    isFetchingNextPage,\r\n  } = useInfiniteQuery(['cars-available', params], getAvailableVehicles, {\r\n    getNextPageParam: ({page, last_page}) => {\r\n      if (page < last_page) {\r\n        return page + 1;\r\n      }\r\n      return false;\r\n    },\r\n    enabled: Boolean(params.car_type),\r\n  });\r\n  if (isError) message.error();\r\n\r\n  const handleFetch = () => {\r\n    if (hasNextPage) fetchNextPage();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Space style={{marginTop: 10, display: 'flex', justifyContent: 'start'}}>\r\n        <div>\r\n          <span>Vehicle Type </span>\r\n          <Select\r\n            placeholder=\" Choose vehicle type\"\r\n            style={{width: 150}}\r\n            onChange={e => setFilter({...filter, car_type: e})}>\r\n            {CAR_TYPES.map((option, index) => {\r\n              return (\r\n                <Select.Option key={index} value={option.value}>\r\n                  {option.label}\r\n                </Select.Option>\r\n              );\r\n            })}\r\n          </Select>\r\n        </div>\r\n        <div>\r\n          <span>Period of time</span>\r\n          <DatePicker.RangePicker\r\n            onChange={e => {\r\n              if (e) {\r\n                let start_date = moment(e[0]._d).format('YYYY-MM-DD');\r\n                let end_date = moment(e[1]._d).format('YYYY-MM-DD');\r\n                setFilter({\r\n                  ...filter,\r\n                  start_date: start_date,\r\n                  end_date: end_date,\r\n                });\r\n              } else {\r\n                setFilter({...filter, start_date: '', end_date: ''});\r\n              }\r\n            }}\r\n          />\r\n          <Button\r\n            type={\r\n              JSON.stringify(filter) === JSON.stringify(params) ? '' : 'primary'\r\n            }\r\n            onClick={() => setParams({...filter})}\r\n            style={{marginLeft: 10}}\r\n            icon={<FilterOutlined />}>\r\n            Search\r\n          </Button>\r\n        </div>\r\n\r\n        <CreateModal\r\n          openModal={openModal}\r\n          setOpenModal={setOpenModal}\r\n          title={openModal.title}\r\n          form={{\r\n            errors: errors,\r\n            handleSubmit: handleSubmit,\r\n            control: control,\r\n            reset: reset,\r\n            setValue: setValue,\r\n            getValues: getValues,\r\n          }}\r\n          queryClient={queryClient}\r\n          params={params}\r\n        />\r\n      </Space>\r\n      <Table\r\n        rowKey=\"id\"\r\n        loading={isFetchingNextPage}\r\n        columns={columns}\r\n        dataSource={concatDataTwo(data)}\r\n        onFetch={handleFetch}\r\n        onRow={onRowClick}\r\n        className=\"hover-row\"\r\n        bordered={true}\r\n        pagination={false}\r\n        scroll={{y: window.innerHeight - 250}}\r\n      />\r\n      {isFetching && !isFetchingNextPage && <Spin tip=\"Loading...\" />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreateReservation;\r\n","import React, { Suspense } from 'react'\n// import Home from './pages/home/Home';\nimport {Switch, Route} from 'react-router-dom';\nimport PrivateRoute from './privateRoute/PrivateRoute';\n// import LoginPage from './pages/login/Login';\nimport Clients from './pages/Clients/Clients';\nimport {QueryClient, QueryClientProvider} from 'react-query';\nimport {ReactQueryDevtools} from 'react-query/devtools';\nimport Vehicles from './pages/Vehicles/Vehicles';\nimport Reservations from './pages/Reservations/Reservations';\nimport CreateReservations from './pages/Reservations/CreateReservations';\nimport {ROLES} from './constants/constants';\nimport ClientHome from './pages/home/client/ClientHome';\nimport './App.css';\nimport { Spin} from 'antd';\n\n\nconst Login = React.lazy(() => import('./pages/login/Login'))\nconst Home = React.lazy(() => import('./pages/home/Home'))\n\n\nconst queryClient = new QueryClient();\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <Switch>\n        <PrivateRoute\n          path=\"/home\"\n          exact\n        component={()=> <Suspense fallback={ <Spin size=\"large\"/>}><Home/></Suspense>}\n          isPrivate\n          role={ROLES.EMPLOYEE}\n        />\n        <PrivateRoute\n          path=\"/home\"\n          exact\n          component={ClientHome}\n          isPrivate\n          role={ROLES.CLIENT}\n        />\n        <PrivateRoute\n          path=\"/clients\"\n          exact\n          component={Clients}\n          isPrivate\n          role={ROLES.EMPLOYEE}\n        />\n        <PrivateRoute\n          path=\"/vehicles\"\n          exact\n          component={Vehicles}\n          isPrivate\n          role={ROLES.EMPLOYEE}\n        />\n        <PrivateRoute\n          path=\"/reservations\"\n          exact\n          component={Reservations}\n          isPrivate\n          role={ROLES.EMPLOYEE}\n        />\n        <PrivateRoute\n          path=\"/add-reservations\"\n          exact\n          component={CreateReservations}\n          isPrivate\n          role={ROLES.EMPLOYEE}\n        />\n\n        <Route path=\"/\" component={()=> <Suspense fallback={ <Spin size=\"large\"/>}><Login/></Suspense>} />\n      </Switch>\n      <ReactQueryDevtools initialIsOpen={false} />\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\n\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\n// don't want to use this?\r\n// have a look at the Quick start guide \r\n// for passing in lng and translations on init\r\n\r\nconst Language = ['en', 'me']\r\n\r\n\r\ni18n\r\n  // load translation using http -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\r\n  // learn more: https://github.com/i18next/i18next-http-backend\r\n  // want your translations to be loaded from a professional CDN? => https://github.com/locize/react-tutorial#step-2---use-the-locize-cdn\r\n\r\n  // detect user language\r\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\r\n  .use(LanguageDetector)\r\n  // pass the i18n instance to react-i18next.\r\n  .use(initReactI18next)\r\n  // init i18next\r\n  // for all options read: https://www.i18next.com/overview/configuration-options\r\n  .init({\r\n    fallbackLng: 'en',\r\n      debug: true,\r\n    whitelist:Language,\r\n\r\n    interpolation: {\r\n      escapeValue: false, // not needed for react as it escapes by default\r\n    }\r\n  });\r\n\r\n\r\nexport default i18n;","import React,{Suspense} from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\nimport './i18next'\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<BrowserRouter>\n\t\t\t<Suspense fallback={(<div>Loading</div>)}>\n\t\t\t\t<App />\n\t\t\t</Suspense>\n\t\t</BrowserRouter>\n\t</React.StrictMode>,\n\tdocument.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import {RESERVATION_STATUS} from '../constants/constants';\r\n\r\nexport const auth = () => {\r\n  return JSON.parse(localStorage.getItem('auth'));\r\n};\r\n\r\nconst getValidDate = function (d) {\r\n  return new Date(d);\r\n};\r\n\r\nconst validateDateBetweenTwoDates = (fromDate, toDate, givenDate) => {\r\n  return (\r\n    getValidDate(givenDate) <= getValidDate(toDate) &&\r\n    getValidDate(givenDate) >= getValidDate(fromDate)\r\n  );\r\n};\r\n\r\nexport const getReservationStatus = (fromDate, toDate, givenDate) => {\r\n  if (validateDateBetweenTwoDates(fromDate, toDate, givenDate)) {\r\n    return RESERVATION_STATUS.PRESENT;\r\n  } else {\r\n    return getValidDate(givenDate) > getValidDate(toDate)\r\n      ? RESERVATION_STATUS.PREVIOUS\r\n      : RESERVATION_STATUS.FUTURE;\r\n  }\r\n};\r\n\r\nexport const saveAuth = user => {\r\n  localStorage.setItem(\r\n    'auth',\r\n    JSON.stringify({\r\n      name: user.name,\r\n      token: user.token,\r\n      role: user.role,\r\n    }),\r\n  );\r\n};\r\n\r\nexport const concatData = data => {\r\n  let arrData = [];\r\n  let pages = data?.pages;\r\n  if (pages) {\r\n    pages.forEach(e => {\r\n      if (e.items) {\r\n        arrData[e?.page - 1] = e.items;\r\n      }\r\n    });\r\n  }\r\n  return [].concat.apply([], arrData);\r\n};\r\n\r\nexport const concatDataTwo = data => {\r\n  let arrData = [];\r\n  let pages = data?.pages;\r\n  if (pages) {\r\n    pages.forEach(e => {\r\n      if (e.items) {\r\n        arrData[e?.page - 1] = e.items;\r\n      }\r\n    });\r\n  }\r\n  return [].concat.apply([], arrData);\r\n};\r\n\r\nexport const getEquipmentData = data => {\r\n  let newData = {...data};\r\n  newData.equipment = [];\r\n  for (let i in data) {\r\n    if (i?.startsWith('_')) {\r\n      newData.equipment.push({\r\n        equipment_id: i.substring(1),\r\n        quantity: data[i] || 0,\r\n      });\r\n      delete newData[i];\r\n    }\r\n  }\r\n  return newData;\r\n};\r\n\r\nexport const calcDays = (from_date, to_date, price_per_day) => {\r\n  if (from_date && to_date) {\r\n    let days = to_date.diff(from_date, 'days');\r\n\r\n    if (days > 0) return days * price_per_day;\r\n    else return 0;\r\n  } else {\r\n    return 0;\r\n  }\r\n};\r\n\r\nexport const dataToOptions = data => {\r\n  return data.map(e => Object({value: e.id, label: e.name}));\r\n};\r\n"],"sourceRoot":""}